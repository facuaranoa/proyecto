<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayuda Al Toque - Plataforma de Servicios</title>
    <link rel="stylesheet" href="styles.css?v=2.30">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="header-left">
                    <button class="menu-toggle" id="menuToggle" onclick="toggleMobileMenu()" style="display: none;">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <h1>üöÄ Ayuda Al Toque</h1>
                </div>
                <div class="header-right">
                    <!-- Bot√≥n de Chat (solo cuando est√° logueado) -->
                    <button class="header-chat-btn" id="headerChatBtn" onclick="showTabWithContent('chat')" style="display: none;" title="Chat">
                        <span>üí¨</span>
                        <span id="header-chat-badge" class="header-badge" style="display: none;">0</span>
                    </button>
                    <!-- Bot√≥n Demo oculto -->
                    <button class="demo-btn-header" onclick="loadDemoData()" style="display: none !important;">üéØ Demo</button>
                </div>
            </div>
            <p class="header-subtitle">Plataforma de intermediaci√≥n de servicios m√≥viles</p>
            
            <!-- Men√∫ m√≥vil deslizable -->
            <div class="mobile-menu" id="mobileMenu">
                <div class="mobile-menu-content">
                    <div class="mobile-menu-header">
                        <h3>Men√∫</h3>
                        <button class="menu-close" onclick="toggleMobileMenu()">‚úï</button>
                    </div>
                    <div class="mobile-menu-items">
                        <button class="mobile-menu-item" onclick="showTab('dashboard'); toggleMobileMenu();" style="display: none;">
                            <span class="menu-icon">üè†</span>
                            <span>Men√∫ Principal</span>
                        </button>
                        <button class="mobile-menu-item" id="mobileChatBtn" onclick="showTabWithContent('chat'); toggleMobileMenu();" style="display: none;">
                            <span class="menu-icon">üí¨</span>
                            <span>Chat</span>
                            <span id="mobile-chat-badge" class="menu-badge" style="display: none;">0</span>
                        </button>
                        <button class="mobile-menu-item" id="mobileAvailabilityBtn" onclick="toggleAvailability(); toggleMobileMenu();" style="display: none;">
                            <span class="menu-icon">‚úÖ</span>
                            <span id="availabilityText">Disponible</span>
                        </button>
                        <button class="mobile-menu-item" onclick="showTab('admin'); toggleMobileMenu();" style="display: none;">
                            <span class="menu-icon">üë®‚Äçüíº</span>
                            <span>Admin</span>
                        </button>
                        <!-- Bot√≥n Demo oculto -->
                        <button class="mobile-menu-item" onclick="loadDemoData(); toggleMobileMenu();" style="display: none !important;">
                            <span class="menu-icon">üéØ</span>
                            <span>Demo</span>
                        </button>
                        <button class="mobile-menu-item logout-item" onclick="logout(); toggleMobileMenu();" style="display: none;">
                            <span class="menu-icon">üö™</span>
                            <span>Salir</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navegaci√≥n superior (solo para login/registro) -->
        <nav class="nav-tabs" id="topNav">
            <button class="tab-btn" onclick="showTab('register')">Registro</button>
            <button class="tab-btn active" onclick="showTab('login')">Login</button>
        </nav>

        <!-- Bottom Navigation (solo cuando est√° logueado) -->
        <nav class="bottom-nav" id="bottomNav" style="display: none;">
            <button class="bottom-nav-btn" onclick="showMyTasks()" data-tab="tasks">
                <span class="nav-icon">üìã</span>
                <span class="nav-label">Tareas</span>
            </button>
            <button class="bottom-nav-btn" onclick="showTabWithContent('search')" data-tab="search">
                <span class="nav-icon">üîç</span>
                <span class="nav-label">Buscar</span>
            </button>
            <button class="bottom-nav-btn create-btn-nav" onclick="showCreateTaskTab();" id="createTaskBtnNav">
                <span class="nav-icon">‚ûï</span>
                <span class="nav-label">Crear</span>
            </button>
            <button class="bottom-nav-btn" onclick="showTabWithContent('chat')" data-tab="chat">
                <span class="nav-icon">üí¨</span>
                <span class="nav-label">Chat</span>
                <span id="chat-nav-badge" class="nav-badge" style="display: none;">0</span>
            </button>
            <button class="bottom-nav-btn" onclick="showTabWithContent('profile')" data-tab="profile">
                <span class="nav-icon">üë§</span>
                <span class="nav-label">Perfil</span>
            </button>
            <button class="bottom-nav-btn" onclick="toggleMobileMenu()" id="menuBtnNav" data-tab="more">
                <span class="nav-icon">‚ò∞</span>
                <span class="nav-label">M√°s</span>
            </button>
        </nav>

        <div id="register" class="tab-content">
            <h2>Registro de Usuario</h2>
            <div class="form-container">
                <select id="userType" onchange="toggleUserForm()">
                    <option value="cliente">Cliente</option>
                    <option value="tasker">Tasker</option>
                </select>

                <form id="clienteForm">
                    <h3>Registro de Cliente</h3>
                    <label for="clienteEmail">Email *</label>
                    <input type="email" id="clienteEmail" placeholder="tu@email.com" required>

                    <label for="clientePassword">Contrase√±a *</label>
                    <input type="password" id="clientePassword" placeholder="M√≠nimo 6 caracteres" required>

                    <label for="clienteNombre">Nombre *</label>
                    <input type="text" id="clienteNombre" placeholder="Tu nombre" required>

                    <label for="clienteApellido">Apellido *</label>
                    <input type="text" id="clienteApellido" placeholder="Tu apellido" required>

                    <label for="clienteTelefono">Tel√©fono *</label>
                    <input type="tel" id="clienteTelefono" placeholder="+549123456789" required>
                    <input type="text" id="clienteLatitud" placeholder="Latitud" value="-34.6037">
                    <input type="text" id="clienteLongitud" placeholder="Longitud" value="-58.3816">
                    <input type="text" id="clienteDireccion" placeholder="Direcci√≥n" value="Av. Corrientes 1234">
                    <input type="text" id="clienteCiudad" placeholder="Ciudad" value="Buenos Aires">

                    <div class="terms-container">
                        <label class="terms-label">
                            <input type="checkbox" id="clienteTerms" name="terminos_aceptados" required>
                            <span class="checkmark"></span>
                            <span>Acepto los <a href="#" onclick="event.preventDefault(); showTermsModal(event)">T√©rminos y Condiciones</a> y la <a href="#" onclick="event.preventDefault(); showPrivacyModal(event)">Pol√≠tica de Privacidad</a></span>
                        </label>
                    </div>

                    <button type="submit">Registrar Cliente</button>
                </form>

                <form id="taskerForm" style="display: none;">
                    <h3>Registro de Tasker</h3>
                    <label for="taskerEmail">Email *</label>
                    <input type="email" id="taskerEmail" placeholder="tu@email.com" required>

                    <label for="taskerPassword">Contrase√±a *</label>
                    <input type="password" id="taskerPassword" placeholder="M√≠nimo 6 caracteres" required>

                    <label for="taskerNombre">Nombre *</label>
                    <input type="text" id="taskerNombre" placeholder="Tu nombre" required>

                    <label for="taskerApellido">Apellido *</label>
                    <input type="text" id="taskerApellido" placeholder="Tu apellido" required>

                    <label for="taskerTelefono">Tel√©fono *</label>
                    <input type="tel" id="taskerTelefono" placeholder="+549123456789" required>

                    <label for="taskerCategoriaPrincipal">Categor√≠a Principal *</label>
                    <select id="taskerCategoriaPrincipal" required onchange="updateTaskerEspecialidades()">
                        <option value="" disabled selected>üè∑Ô∏è Seleccionar categor√≠a</option>
                        <!-- Se llenar√° din√°micamente con las categor√≠as disponibles -->
                    </select>

                    <label for="taskerEspecialidad">Especialidad (opcional)</label>
                    <select id="taskerEspecialidad">
                        <option value="" selected>üë∑ Selecciona primero una categor√≠a</option>
                    </select>

                    <label for="taskerCuit">CUIT (opcional)</label>
                    <input type="text" id="taskerCuit" placeholder="XX-XXXXXXXX-X">

                    <label for="taskerMonotributista">
                        <input type="checkbox" id="taskerMonotributista"> Soy monotributista
                    </label>

                    <textarea id="taskerDescripcion" placeholder="Descripci√≥n de servicios"></textarea>
                    <input type="number" id="taskerTarifa" placeholder="Tarifa por hora" step="0.01">

                    <div class="terms-container">
                        <label class="terms-label">
                            <input type="checkbox" id="taskerTerms" name="terminos_aceptados" required>
                            <span class="checkmark"></span>
                            <span>Acepto los <a href="#" onclick="event.preventDefault(); showTermsModal(event)">T√©rminos y Condiciones</a> y la <a href="#" onclick="event.preventDefault(); showPrivacyModal(event)">Pol√≠tica de Privacidad</a></span>
                        </label>
                    </div>

                    <button type="submit">Registrar Tasker</button>
                </form>
            </div>
        </div>

        <div id="login" class="tab-content active">
            <h2>Iniciar Sesi√≥n</h2>
            <div class="form-container">
                <form id="loginForm" onsubmit="return false;">
                    <input type="email" id="loginEmail" placeholder="Email" required>
                    <input type="password" id="loginPassword" placeholder="Contrase√±a" required>
                    <button type="submit">Iniciar Sesi√≥n</button>
                </form>
                <p style="text-align: center; margin-top: 15px;">
                    <a href="#" onclick="showForgotPassword(event)" style="color: #6366f1; text-decoration: none;">¬øOlvidaste tu contrase√±a?</a>
                </p>
                <div id="loginResult"></div>
            </div>
        </div>

        <!-- Secci√≥n de recuperaci√≥n de contrase√±a -->
        <div id="forgotPassword" class="tab-content" style="display: none;">
            <h2>üîê Recuperar Contrase√±a</h2>
            <div class="form-container">
                <p style="margin-bottom: 20px; color: #6b7280;">
                    Ingresa tu email y te enviaremos un enlace para restablecer tu contrase√±a.
                </p>
                <form id="forgotPasswordForm">
                    <input type="email" id="forgotPasswordEmail" placeholder="Email" required>
                    <button type="submit">Enviar enlace de recuperaci√≥n</button>
                </form>
                <p style="text-align: center; margin-top: 15px;">
                    <a href="#" onclick="showLogin(event)" style="color: #6366f1; text-decoration: none;">‚Üê Volver al login</a>
                </p>
                <div id="forgotPasswordResult"></div>
            </div>
        </div>

        <!-- Secci√≥n de resetear contrase√±a -->
        <div id="resetPassword" class="tab-content" style="display: none;">
            <h2>üîë Restablecer Contrase√±a</h2>
            <div class="form-container">
                <p style="margin-bottom: 20px; color: #6b7280;">
                    Ingresa tu nueva contrase√±a. Debe tener al menos 6 caracteres.
                </p>
                <form id="resetPasswordForm">
                    <input type="password" id="newPassword" placeholder="Nueva contrase√±a" required minlength="6">
                    <input type="password" id="confirmPassword" placeholder="Confirmar contrase√±a" required minlength="6">
                    <button type="submit">Restablecer contrase√±a</button>
                </form>
                <p style="text-align: center; margin-top: 15px;">
                    <a href="#" onclick="showLogin(event)" style="color: #6366f1; text-decoration: none;">‚Üê Volver al login</a>
                </p>
                <div id="resetPasswordResult"></div>
            </div>
        </div>

        <div id="tasks" class="tab-content">
            <div id="tasksContent">
                <!-- El contenido se genera din√°micamente seg√∫n el tipo de usuario -->
            </div>
        </div>

        <div id="admin" class="tab-content">
            <h2>üë®‚Äçüíº Panel de Administraci√≥n</h2>
            <div id="adminContent">
                <!-- El contenido se genera din√°micamente -->
            </div>
        </div>

        <div id="dashboard" class="tab-content">
            <div id="dashboardContent"></div>
        </div>

        <div id="profile" class="tab-content">
            <div id="profileContent">
                <!-- El contenido se genera din√°micamente seg√∫n el tipo de usuario -->
            </div>
        </div>

        <div id="search" class="tab-content">
            <div id="searchContent">
                <!-- El contenido se genera din√°micamente seg√∫n el tipo de usuario -->
            </div>
        </div>

        <div id="chat" class="tab-content">
            <div id="chatContent">
                <!-- El contenido se genera din√°micamente -->
            </div>
        </div>

        <div id="messages" class="messages"></div>
        
        <!-- Overlay para cerrar men√∫ m√≥vil -->
        <div class="menu-overlay" id="menuOverlay" onclick="toggleMobileMenu()"></div>
    </div>

    <!-- Modal de T√©rminos y Condiciones -->
    <div id="termsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>T√©rminos y Condiciones</h2>
                <span class="close" onclick="closeModal('termsModal')">&times;</span>
            </div>
            <div class="modal-body">
                <h3>1. Aceptaci√≥n de los T√©rminos</h3>
                <p>Al acceder y utilizar Ayuda Al Toque, aceptas estar sujeto a estos t√©rminos y condiciones.</p>

                <h3>2. Uso del Servicio</h3>
                <p>La plataforma conecta clientes con prestadores de servicios independientes (taskers). No somos responsables de la calidad de los servicios prestados.</p>

                <h3>3. Responsabilidades del Usuario</h3>
                <ul>
                    <li>Proporcionar informaci√≥n veraz y actualizada</li>
                    <li>Respetar los derechos de propiedad intelectual</li>
                    <li>No utilizar la plataforma para actividades ilegales</li>
                    <li>Mantener la confidencialidad de tu cuenta</li>
                </ul>

                <h3>4. Pagos y Transacciones</h3>
                <p>Los pagos se realizan directamente entre clientes y taskers. Ayuda Al Toque no procesa pagos.</p>

                <h3>5. Limitaci√≥n de Responsabilidad</h3>
                <p>La plataforma se proporciona "tal cual". No garantizamos que el servicio est√© libre de errores.</p>
            </div>
        </div>
    </div>

    <!-- Modal de Pol√≠tica de Privacidad -->
    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Pol√≠tica de Privacidad</h2>
                <span class="close" onclick="closeModal('privacyModal')">&times;</span>
            </div>
            <div class="modal-body">
                <h3>1. Informaci√≥n que Recopilamos</h3>
                <ul>
                    <li>Informaci√≥n de registro (nombre, email, tel√©fono)</li>
                    <li>Datos de ubicaci√≥n para servicios</li>
                    <li>Informaci√≥n de perfil profesional (para taskers)</li>
                </ul>

                <h3>2. Uso de la Informaci√≥n</h3>
                <ul>
                    <li>Conectar clientes con prestadores de servicios</li>
                    <li>Mejorar nuestros servicios</li>
                    <li>Comunicaciones relacionadas con la plataforma</li>
                </ul>

                <h3>3. Protecci√≥n de Datos</h3>
                <p>Utilizamos medidas de seguridad est√°ndar para proteger tu informaci√≥n personal.</p>

                <h3>4. Compartir Informaci√≥n</h3>
                <p>No vendemos tu informaci√≥n personal. Solo compartimos datos necesarios para prestar el servicio.</p>

                <h3>5. Tus Derechos</h3>
                <p>Tienes derecho a acceder, corregir o eliminar tus datos personales.</p>
            </div>
        </div>
    </div>

    <!-- Modal para detalles de tarea -->
    <div id="taskModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeTaskModal()">&times;</span>
            <div id="taskModalContent">
                <!-- Contenido se llena din√°micamente -->
            </div>
        </div>
    </div>

    <script src="script.js?v=2.27"></script>
</body>
</html>
